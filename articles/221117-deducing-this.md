---
title: ã€C++23ã€‘ã‚¯ãƒ©ã‚¹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒ‘ãƒ©ãƒ¡ã‚¿ã®æ˜Žç¤ºçš„å®£è¨€
emoji: ðŸ§‘â€ðŸ«
type: tech
topics: [cpp, cpp23]
published: false
---

:::message
ã“ã®è¨˜äº‹ã¯ [C++ Advent Calendar 2022](https://qiita.com/advent-calendar/2022/cxx) ã® 1 æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚
:::

- **æ¦‚è¦**: æœ¬è¨˜äº‹ã§ã¯ C++23 ã«å‘ã‘ã¦æŽ¡æŠžã•ã‚ŒãŸä»¥ä¸‹ã®è«–æ–‡ã®æ©Ÿèƒ½ã‚’ç´¹ä»‹ã—ã¦ã„ã¾ã™
  - [P0847R7 Deducing `this`](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p0847r7.html)
  - [P2445R1 `std::forward_like`](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2022/p2445r1.pdf)
  - [P0798R3 Monadic operations for `std::optional`](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2019/p0798r3.html)

## ã¯ã˜ã‚ã«

2022 å¹´ã‚‚å¹´ã®ç€¬ã‚’è¿Žãˆã€C++23 ã®ç™ºè¡ŒãŒã‚ã¨ 1 å¹´ã«è¿«ã£ã¦ãã¾ã—ãŸã€‚2022 å¹´ 11 æœˆã® Kona ä¼šè­°ã¯ç„¡äº‹çµ‚äº†ã—ã€é †èª¿ã«é€²ã‚ã° 2023 å¹´ 2 æœˆã® Issaquah ä¼šè­°ã§ç­–å®šãŒå®Œäº†ã™ã‚‹äºˆå®šã§ã™[^kona]ã€‚ãã‚ãã‚ C++23 ã®æ–°æ©Ÿèƒ½ãŒæ°—ã«ãªã£ã¦ããŸäººã‚‚å¤šã„ã®ã§ã¯ãªã„ã§ã—ã‚‡ã†ã‹ã€‚

[^kona]: [Trip report: Autumn ISO C++ standards meeting (Kona) - Sutterâ€™s Mill](https://herbsutter.com/2022/11/12/trip-report-autumn-iso-c-standards-meeting-kona/)

å€‹äººçš„ã« C++23 æœ€å¤§ã®æ©Ÿèƒ½ã¯ã€[P0847 Deducing `this`](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p0847r7.html) ã«ã¦ææ¡ˆã•ã‚ŒãŸ **æ˜Žç¤ºçš„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒ‘ãƒ©ãƒ¡ã‚¿ã®å°Žå…¥** ã ã¨æ„Ÿã˜ã¦ã„ã¾ã™ã€‚ãã“ã§æœ¬è¨˜äº‹ã§ã¯ [P0847 Deducing `this`](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p0847r7.html) ã¨ã€ã“ã‚Œã«éš£æŽ¥ã™ã‚‹ 2 ã¤ã®è«–æ–‡ã§å°Žå…¥ã•ã‚ŒãŸæ©Ÿèƒ½ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚

## æ˜Žç¤ºçš„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒ‘ãƒ©ãƒ¡ã‚¿ã¨ã¯?

ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒ‘ãƒ©ãƒ¡ã‚¿ (_object parameter_) ã¨ã¯ã€ã‚¯ãƒ©ã‚¹ã®ãƒ¡ãƒ³ãƒé–¢æ•°å†…ã§ã€ã‚¯ãƒ©ã‚¹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆè‡ªèº«ã‚’æŒ‡ã™ãƒ‘ãƒ©ãƒ¡ã‚¿ã®ã“ã¨ã§ã™ã€‚C++ã§ã¯ã€ã‚¯ãƒ©ã‚¹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆè‡ªèº«ã®ãƒã‚¤ãƒ³ã‚¿ã‚’æŒ‡ã™ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã¨ã—ã¦ã€`this` ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã‚Œã¯ãƒ¡ãƒ³ãƒé–¢æ•°å†…ã§æš—é»™çš„ã«å®£è¨€ã•ã‚Œã‚‹ãŸã‚ã€æš—é»™çš„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒ‘ãƒ©ãƒ¡ã‚¿ (_implicit object parameter_) ã¨å‘¼ã°ã‚Œã¾ã™ã€‚

ä¸€æ–¹ã€æ˜Žç¤ºçš„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒ‘ãƒ©ãƒ¡ã‚¿ (_explicit object parameter_) ã‚’å®£è¨€ã™ã‚‹ã“ã¨ã¯ã€å¾“æ¥ã® C++ã§ã¯ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚ã“ã‚Œã‚’å®Ÿç¾ã—ãŸã®ãŒã€C++23 ã«å‘ã‘ã¦æŽ¡æŠžã•ã‚ŒãŸè«–æ–‡ã€[P0847 Deducing `this`](https://www.open-std.org/jtc1/sc22/wg21/docs/papers/2021/p0847r7.html) ã§ã™ã€‚

```cpp
struct X {
  void f() const& {}

  void g1() const& {
    this->f();
//  ^~~~ æš—é»™çš„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒ‘ãƒ©ãƒ¡ã‚¿
  }

  void g2(this const X& self) {
    self.f();
//  ^~~~ æ˜Žç¤ºçš„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒ‘ãƒ©ãƒ¡ã‚¿
  }
};
```

